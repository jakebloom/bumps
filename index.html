<html>
  <head>
    <title>Bumps</title>
      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""/>
      <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""></script>
      <style>
        body {
          font-family: sans-serif;
        }
        #key {
          position: absolute;
          bottom: 0;
          left: 0;
          margin: 2rem;
          padding: 0.5rem;
          background-color: white;
          border-radius: 8px;
          z-index: 1000;
        }
        .key-color {
          width: 1em;
          height: 1em;
          border-radius: 100%;
          margin-right: 0.3em;
          vertical-align: middle;
          display: inline-block;
        }
        .key-row {
          margin-bottom: 0.5em;
          display: flex;
          align-items: center;
        }
        #header {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          z-index: 1000;
          display: flex;
          justify-content: center;
        }
        #header-content {
          background-color: white;
          margin-top: 1.5rem;
          padding: 0.5rem;
          border-radius: 8px;
        }
      </style>
  </head>

  <body style="margin: 0">
    <div id="map" style="width: 100%; height: 100%;"></div>
    <div id="key">
      <div class="key-row"><span class="key-color" style="background-color: #0074ae;"></span>None</div>
      <div class="key-row"><span class="key-color" style="background-color: #fef500;"></span>Light</div>
      <div class="key-row"><span class="key-color" style="background-color: #ff7800;"></span>Moderate</div>
      <div class="key-row"><span class="key-color" style="background-color: #d50202;"></span>Severe</div>
      <div class="key-row"><span class="key-color" style="background-color: #8e0057;"></span>Extreme</div>
    </div>
    <div id="header">
      <div id="header-content">
        Live Turbulence Map by Jake
      </div>
    </div>
    <script type="application/javascript" src="./index.js"></script>
    <script>
      const bounds = L.latLngBounds(L.latLng(-89.9, -179.9), L.latLng(89.9, 179.9))
      const map = L.map('map', {
        maxBounds: bounds,
        maxBoundsViscosity: 1.0,
      }).setView([39.8283, -98.5795], 4);
      L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
          attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
          subdomains: 'abcd',
          maxZoom: 8,
          minZoom: 4,
          noWrap: true,
          bounds: bounds,
      }).addTo(map);
      plotTurbulence(map);
    </script>
  </body>
</html>